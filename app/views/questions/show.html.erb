<%- model_class = Question -%>
<div class="page-header">

  <h1><%= @question.title %></h1>

  <% @question.categories.each do |category| %>
    <%= link_to tag_label(category.name, :default), category %>
  <% end %>

  <h6><%= link_to @question.author.name, user_path(@question.author) %></h6> 

</div>

<dl class="dl-horizontal">
  <h4><small><%= @question.content %></small></h4> 
</dl>

<%= link_to "Back", :back, :class => 'btn btn-default' %>              
<%= render 'answers/new_answer', question: @question %>

<% if current_user %>
  <%= render 'favorite', question: @question %>             
<% end %>                           
            
<% if policy(@question).edit?  %>                   
  <%= link_to t('.edit', :default => t("helpers.links.edit")),
                edit_question_path(@question), :class => 'btn btn-default' %>
<% end %> 

<% if policy(@question).destroy?  %>                                
  <%= link_to t('.destroy', :default => t("helpers.links.destroy")),
                question_path(@question),
                :method => :delete,
                :data => { :confirm => t('.confirm', :default => t("helpers.links.confirm", :default => '  Are you sure?')) },
                :class => ' btn btn-danger'%>
<% end %> </br>
</br>

<dl>
  <% @question.first_answers.each do |answer| %> </br>
    <%= render 'answers/first_answers', answer: answer %> |   

    <% if policy(answer).show? %>
      <%= render 'answers/show_answer', question: @question, answer: answer %>
    <% end %>
    <% if policy(answer).edit? %>
      <%= render 'answers/edit_answer', question: @question, answer: answer %>
    <% end %>
    <% if policy(answer).destroy? %>
      <%= render 'answers/delete_answer', answer: answer %> 
    <% end %>

  </dd>
  <dd><%= simple_format answer.content %></dd> </br>  
  <% end %>  

  <% if @question.have_more_answers %>
    <%= render 'answers/index_answers', question: @question %>
  <% end %>                
</dl>              